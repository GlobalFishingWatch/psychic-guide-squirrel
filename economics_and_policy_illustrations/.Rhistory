library(tidyverse)
library(bigrquery)
BQ_connection <-  dbConnect(dbi_driver(), dataset = "", project = "ucsb-gfw")
knitr::opts_chunk$set(connection = "BQ_connection")
library(tidyverse)
library(bigrquery)
library(DBI)
BQ_connection <-  dbConnect(dbi_driver(), dataset = "", project = "ucsb-gfw")
knitr::opts_chunk$set(connection = "BQ_connection")
ggplot(active_vessel_2015, aes(x = day_of_year, y = active_vessels))+
geom_point()
ggplot(active_vessel_2015, aes(x = day_of_year, y = active_vessels))+
geom_point()+
geom_line()
ggplot(active_vessel_2015, aes(x = day_of_year, y = active_vessels))+
geom_point()+
geom_line()+
geom_vline(xintercept = 213)
ggplot(active_vessel_2015, aes(x = day_of_year, y = active_vessels))+
geom_point()+
geom_line()+
geom_vline(aes(xintercept = 213, colour = "blue"))
ggplot(active_vessel_2015, aes(x = day_of_year, y = active_vessels))+
geom_point()+
geom_line()+
geom_vline(aes(xintercept = 213, color = "blue"))
ggplot(active_vessel_2015, aes(x = day_of_year, y = active_vessels))+
geom_point()+
geom_line()+
geom_vline(aes(xintercept = 213, col = "blue"))
ggplot(active_vessel_2015, aes(x = day_of_year, y = active_vessels))+
geom_point()+
geom_line()+
geom_vline(aes(xintercept = 213, fill = "blue"))
ggplot(active_vessel_2015, aes(x = day_of_year, y = active_vessels))+
geom_point()+
geom_line()+
geom_vline(aes(xintercept = 213, type = "dashed"))
ggplot(active_vessel_2015, aes(x = day_of_year, y = active_vessels))+
geom_point()+
geom_line()+
geom_vline(xintercept = 213,  colour="green", linetype = "longdash")
ggplot(active_vessel_2015, aes(x = day_of_year, y = active_vessels))+
geom_point()+
geom_line()+
geom_vline(xintercept = 213,  colour="navy", linetype = "longdash")
ggplot(active_vessel_2015, aes(x = day_of_year, y = active_vessels))+
geom_point()+
geom_line()+
geom_vline(xintercept = 213,  colour = "green", linetype = "longdash")
ggplot(active_vessel_2015, aes(x = day_of_year, y = active_vessels))+
geom_point()+
geom_line()+
geom_vline(xintercept = 213,  colour = "green", linetype = "longdash")+
theme_minimal()
ggplot(active_vessel_2015, aes(x = day_of_year, y = active_vessels))+
geom_point()+
geom_line()+
geom_vline(xintercept = 213,  colour = "green", linetype = "longdash")+
geom_vline(xintercept = 136,  colour = "red", linetype = "longdash")+
theme_minimal()
ggplot(active_vessel_2015, aes(x = day_of_year, y = active_vessels))+
geom_point()+
geom_line()+
geom_vline(xintercept = 39,  colour = "red", linetype = "longdash")+ # Beginning of moratorium: May 16th
geom_vline(xintercept = 136,  colour = "red", linetype = "longdash")+ # Beginning of moratorium: May 16th
geom_vline(xintercept = 213,  colour = "green", linetype = "longdash")+ # Beginning of moratorium: August 1
theme_minimal()
ggplot(active_vessel_2015, aes(x = day_of_year, y = active_vessels))+
geom_point()+
geom_line()+
geom_vline(xintercept = 39,  colour = "red", linetype = "longdash")+ # Beginning of moratorium: May 16th
geom_vline(xintercept = 44,  colour = "red", linetype = "longdash")+ # Beginning of moratorium: May 16th
geom_vline(xintercept = 136,  colour = "red", linetype = "longdash")+ # Beginning of moratorium: May 16th
geom_vline(xintercept = 213,  colour = "green", linetype = "longdash")+ # Beginning of moratorium: August 1
theme_minimal()
ggplot(active_vessel_2015, aes(x = day_of_year, y = active_vessels))+
geom_point()+
geom_line()+
geom_vline(xintercept = 49,  colour = "red", linetype = "longdash")+ # Beginning of moratorium: May 16th
geom_vline(xintercept = 55,  colour = "red", linetype = "longdash")+ # Beginning of moratorium: May 16th
geom_vline(xintercept = 136,  colour = "red", linetype = "longdash")+ # Beginning of moratorium: May 16th
geom_vline(xintercept = 213,  colour = "green", linetype = "longdash")+ # Beginning of moratorium: August 1
theme_minimal()
ggplot(active_vessel_2015, aes(x = day_of_year, y = active_vessels))+
geom_point()+
geom_line()+
geom_rect(aes(xmin = 49, xmax = 55,
ymin = -Inf, ymax = Inf), alpha = 0.4) +
geom_vline(xintercept = 49,  colour = "red", linetype = "longdash")+ # Beginning of moratorium: May 16th
geom_vline(xintercept = 55,  colour = "red", linetype = "longdash")+ # Beginning of moratorium: May 16th
geom_vline(xintercept = 136,  colour = "red", linetype = "longdash")+ # Beginning of moratorium: May 16th
geom_vline(xintercept = 213,  colour = "green", linetype = "longdash")+ # Beginning of moratorium: August 1
theme_minimal()
ggplot(active_vessel_2015, aes(x = day_of_year, y = active_vessels))+
geom_point()+
geom_line()+
geom_rect(aes(xmin = 49, xmax = 55,
ymin = -Inf, ymax = Inf), alpha = 0.4, fill = "blue") +
geom_vline(xintercept = 49,  colour = "red", linetype = "longdash")+ # Beginning of moratorium: May 16th
geom_vline(xintercept = 55,  colour = "red", linetype = "longdash")+ # Beginning of moratorium: May 16th
geom_vline(xintercept = 136,  colour = "red", linetype = "longdash")+ # Beginning of moratorium: May 16th
geom_vline(xintercept = 213,  colour = "green", linetype = "longdash")+ # Beginning of moratorium: August 1
theme_minimal()
ggplot(active_vessel_2015, aes(x = day_of_year, y = active_vessels))+
geom_point()+
geom_line()+
geom_rect(aes(xmin = 49, xmax = 55,
ymin = -Inf, ymax = Inf), alpha = 0.4, fill = "blue") +
geom_vline(xintercept = 136,  colour = "red", linetype = "longdash")+ # Beginning of moratorium: May 16th
geom_vline(xintercept = 213,  colour = "green", linetype = "longdash")+ # Beginning of moratorium: August 1
theme_minimal()
ggplot(active_vessel_2015, aes(x = day_of_year, y = active_vessels))+
geom_point()+
geom_line()+
geom_rect(aes(xmin = 49, xmax = 55,
ymin = -Inf, ymax = Inf, alpha = .2),fill = "blue") +
geom_vline(xintercept = 136,  colour = "red", linetype = "longdash")+ # Beginning of moratorium: May 16th
geom_vline(xintercept = 213,  colour = "green", linetype = "longdash")+ # Beginning of moratorium: August 1
theme_minimal()
ggplot(active_vessel_2015, aes(x = day_of_year, y = active_vessels))+
geom_point()+
geom_line()+
geom_rect(aes(xmin = 49, xmax = 55,
ymin = -Inf, ymax = Inf),fill = "blue") +
geom_vline(xintercept = 136,  colour = "red", linetype = "longdash")+ # Beginning of moratorium: May 16th
geom_vline(xintercept = 213,  colour = "green", linetype = "longdash")+ # Beginning of moratorium: August 1
theme_minimal()
ggplot(active_vessel_2015, aes(x = day_of_year, y = active_vessels))+
geom_point()+
geom_line()+
geom_rect(xmin = 49, xmax = 55,
ymin = -Inf, ymax = Inf,fill = "blue") +
geom_vline(xintercept = 136,  colour = "red", linetype = "longdash")+ # Beginning of moratorium: May 16th
geom_vline(xintercept = 213,  colour = "green", linetype = "longdash")+ # Beginning of moratorium: August 1
theme_minimal()
ggplot(active_vessel_2015, aes(x = day_of_year, y = active_vessels))+
geom_point()+
geom_line()+
geom_rect(xmin = 49, xmax = 55,
ymin = -Inf, ymax = Inf,fill = "blue", alpha = 1) +
geom_vline(xintercept = 136,  colour = "red", linetype = "longdash")+ # Beginning of moratorium: May 16th
geom_vline(xintercept = 213,  colour = "green", linetype = "longdash")+ # Beginning of moratorium: August 1
theme_minimal()
ggplot(active_vessel_2015, aes(x = day_of_year, y = active_vessels))+
geom_point()+
geom_line()+
geom_rect(xmin = 49, xmax = 55,
ymin = -Inf, ymax = Inf,fill = "blue", alpha = .1) +
geom_vline(xintercept = 136,  colour = "red", linetype = "longdash")+ # Beginning of moratorium: May 16th
geom_vline(xintercept = 213,  colour = "green", linetype = "longdash")+ # Beginning of moratorium: August 1
theme_minimal()
ggplot(active_vessel_2015, aes(x = day_of_year, y = active_vessels))+
geom_point()+
geom_line()+
geom_rect(xmin = 49, xmax = 55,
ymin = -Inf, ymax = Inf,  alpha = .1) +
geom_vline(xintercept = 136,  colour = "red", linetype = "longdash")+ # Beginning of moratorium: May 16th
geom_vline(xintercept = 213,  colour = "green", linetype = "longdash")+ # Beginning of moratorium: August 1
theme_minimal()
ggplot(active_vessel_2015, aes(x = day_of_year, y = active_vessels))+
geom_point()+
geom_line()+
geom_rect(xmin = 49, xmax = 55,
ymin = -Inf, ymax = Inf,  alpha = .01) +
geom_vline(xintercept = 136,  colour = "red", linetype = "longdash")+ # Beginning of moratorium: May 16th
geom_vline(xintercept = 213,  colour = "green", linetype = "longdash")+ # Beginning of moratorium: August 1
theme_minimal()
ggplot(active_vessel_2015, aes(x = day_of_year, y = active_vessels))+
geom_point()+
geom_line()+
geom_rect(xmin = 49, xmax = 55,
ymin = -Inf, ymax = Inf,  alpha = .01, fill = "lightblue") +
geom_vline(xintercept = 136,  colour = "red", linetype = "longdash")+ # Beginning of moratorium: May 16th
geom_vline(xintercept = 213,  colour = "green", linetype = "longdash")+ # Beginning of moratorium: August 1
theme_minimal()
ggplot(active_vessel_2015, aes(x = day_of_year, y = active_vessels))+
geom_point()+
geom_line()+
geom_rect(xmin = 49, xmax = 55,
ymin = -Inf, ymax = Inf,  alpha = .01, fill = "blue") +
geom_vline(xintercept = 136,  colour = "red", linetype = "longdash")+ # Beginning of moratorium: May 16th
geom_vline(xintercept = 213,  colour = "green", linetype = "longdash")+ # Beginning of moratorium: August 1
theme_minimal()
ggplot(active_vessel_2015, aes(x = day_of_year, y = active_vessels))+
geom_point()+
geom_line()+
geom_rect(xmin = 49, xmax = 55,
ymin = -Inf, ymax = Inf,  alpha = .01, fill = "babyblue") +
geom_vline(xintercept = 136,  colour = "red", linetype = "longdash")+ # Beginning of moratorium: May 16th
geom_vline(xintercept = 213,  colour = "green", linetype = "longdash")+ # Beginning of moratorium: August 1
theme_minimal()
ggplot(active_vessel_2015, aes(x = day_of_year, y = active_vessels))+
geom_point()+
geom_line()+
geom_rect(xmin = 49, xmax = 55,
ymin = -Inf, ymax = Inf,  alpha = .01, fill = "ligthblue") +
geom_vline(xintercept = 136,  colour = "red", linetype = "longdash")+ # Beginning of moratorium: May 16th
geom_vline(xintercept = 213,  colour = "green", linetype = "longdash")+ # Beginning of moratorium: August 1
theme_minimal()
ggplot(active_vessel_2015, aes(x = day_of_year, y = active_vessels))+
geom_point()+
geom_line()+
geom_rect(xmin = 49, xmax = 55,
ymin = -Inf, ymax = Inf,  alpha = .01, fill = "lightblue") +
geom_vline(xintercept = 136,  colour = "red", linetype = "longdash")+ # Beginning of moratorium: May 16th
geom_vline(xintercept = 213,  colour = "green", linetype = "longdash")+ # Beginning of moratorium: August 1
theme_minimal()
ggplot(active_vessel_2015, aes(x = day_of_year, y = active_vessels))+
geom_point()+
geom_line()+
geom_rect(xmin = 49, xmax = 55,
ymin = -Inf, ymax = Inf,  alpha = .01, fill = "lightblue") + # Chinese new year and holiday
geom_rect(xmin = 136, xmax = 213,
ymin = -Inf, ymax = Inf,  alpha = .01, fill = "red")
ggplot(active_vessel_2015, aes(x = day_of_year, y = active_vessels))+
geom_point()+
geom_line()+
geom_rect(xmin = 49, xmax = 55,
ymin = -Inf, ymax = Inf,  alpha = .01, fill = "lightblue") + # Chinese new year and holiday
geom_rect(xmin = 136, xmax = 213,
ymin = -Inf, ymax = Inf,  alpha = .01, fill = "green")
ggplot(active_vessel_2015, aes(x = day_of_year, y = active_vessels))+
geom_point()+
geom_line()+
geom_rect(xmin = 49, xmax = 55,
ymin = -Inf, ymax = Inf,  alpha = .01, fill = "lightblue") + # Chinese new year and holiday
geom_rect(xmin = 136, xmax = 213,
ymin = -Inf, ymax = Inf,  alpha = .01, fill = "green")+
theme_minimal()
ggplot(active_vessel_2015, aes(x = day_of_year, y = active_vessels))+
geom_point()+
geom_line()+
geom_rect(xmin = 49, xmax = 55,
ymin = -Inf, ymax = Inf,  alpha = .01, fill = "lightblue") + # Chinese new year and holiday
geom_rect(xmin = 136, xmax = 213,
ymin = -Inf, ymax = Inf,  alpha = .001, fill = "green")+
theme_minimal()
ggplot(active_vessel_2015, aes(x = day_of_year, y = active_vessels))+
geom_point()+
geom_line()+
geom_rect(xmin = 49, xmax = 55,
ymin = -Inf, ymax = Inf,  alpha = .01, fill = "lightblue") + # Chinese new year and holiday
geom_rect(xmin = 136, xmax = 213,
ymin = -Inf, ymax = Inf,  alpha = .01, fill = "green")+
theme_minimal()
ggplot(active_vessel_2015, aes(x = day_of_year, y = active_vessels))+
geom_point()+
geom_line()+
geom_rect(xmin = 49, xmax = 55,
ymin = -Inf, ymax = Inf,  alpha = .01, fill = "lightblue") + # Chinese new year and holiday
geom_rect(xmin = 136, xmax = 213,
ymin = -Inf, ymax = Inf,  alpha = .01, fill = "bluw")+
theme_minimal()
ggplot(active_vessel_2015, aes(x = day_of_year, y = active_vessels))+
geom_point()+
geom_line()+
geom_rect(xmin = 49, xmax = 55,
ymin = -Inf, ymax = Inf,  alpha = .01, fill = "lightblue") + # Chinese new year and holiday
geom_rect(xmin = 136, xmax = 213,
ymin = -Inf, ymax = Inf,  alpha = .01, fill = "blue")+
theme_minimal()
ggplot(active_vessel_2015, aes(x = day_of_year, y = active_vessels))+
geom_point()+
geom_line()+
geom_rect(xmin = 49, xmax = 55,
ymin = -Inf, ymax = Inf,  alpha = .01, fill = "lightblue") + # Chinese new year and holiday
geom_rect(xmin = 136, xmax = 213,
ymin = -Inf, ymax = Inf,  alpha = .01, fill = "gray")+ # chinese moratorium: May 16th - August 1
theme_minimal()
ggplot(active_vessel_2015, aes(x = day_of_year, y = active_vessels))+
geom_point()+
geom_line()+
geom_rect(xmin = 49, xmax = 55,
ymin = -Inf, ymax = Inf,  alpha = .01, fill = "lightblue") + # Chinese new year and holiday
geom_rect(xmin = 136, xmax = 213,
ymin = -Inf, ymax = Inf,  alpha = .1, fill = "gray")+ # chinese moratorium: May 16th - August 1
theme_minimal()
ggplot(active_vessel_2015, aes(x = day_of_year, y = active_vessels))+
geom_point()+
geom_line()+
geom_rect(xmin = 49, xmax = 55,
ymin = -Inf, ymax = Inf,  alpha = .01, fill = "lightblue") + # Chinese new year and holiday
geom_rect(xmin = 136, xmax = 213,
ymin = -Inf, ymax = Inf,  alpha = .005, fill = "gray")+ # chinese moratorium: May 16th - August 1
theme_minimal()
ggplot(active_vessel_2015, aes(x = day_of_year, y = active_vessels))+
geom_point()+
geom_line()+
geom_rect(xmin = 49, xmax = 55,
ymin = -Inf, ymax = Inf,  alpha = .01, fill = "lightblue") + # Chinese new year and holiday
geom_rect(xmin = 136, xmax = 213,
ymin = -Inf, ymax = Inf,  alpha = .01, fill = "gray")+ # chinese moratorium: May 16th - August 1
theme_minimal()
ggplot(active_vessel_2015, aes(x = day_of_year, y = active_vessels))+
geom_point()+
geom_line()+
geom_rect(xmin = 49, xmax = 55,
ymin = -Inf, ymax = Inf,  alpha = .01, fill = "lightblue") + # Chinese new year and holiday
geom_rect(xmin = 136, xmax = 213,
ymin = -Inf, ymax = Inf,  alpha = .01, fill = "orange")+ # chinese moratorium: May 16th - August 1
theme_minimal()
ggplot(active_vessel_2015, aes(x = day_of_year, y = active_vessels))+
geom_rect(xmin = 49, xmax = 55,
ymin = -Inf, ymax = Inf,  alpha = .01, fill = "lightblue") + # Chinese new year and holiday
geom_rect(xmin = 136, xmax = 213,
ymin = -Inf, ymax = Inf,  alpha = .01, fill = "orange")+ # chinese moratorium: May 16th - August 1
geom_point()+
geom_line()+
theme_minimal()
ggplot(active_vessel_2015, aes(x = day_of_year, y = active_vessels))+
geom_rect(xmin = 49, xmax = 55,
ymin = -Inf, ymax = Inf,  alpha = .01, fill = "navy") + # Chinese new year and holiday
geom_rect(xmin = 136, xmax = 213,
ymin = -Inf, ymax = Inf,  alpha = .01, fill = "orange")+ # chinese moratorium: May 16th - August 1
geom_point()+
geom_line()+
theme_minimal()
ggplot(active_vessel_2015, aes(x = day_of_year, y = active_vessels))+
geom_rect(xmin = 49, xmax = 55,
ymin = -Inf, ymax = Inf,  alpha = .01, fill = "blue") + # Chinese new year and holiday
geom_rect(xmin = 136, xmax = 213,
ymin = -Inf, ymax = Inf,  alpha = .01, fill = "orange")+ # chinese moratorium: May 16th - August 1
geom_point()+
geom_line()+
theme_minimal()
ggplot(active_vessel_2015, aes(x = day_of_year, y = active_vessels))+
geom_rect(xmin = 49, xmax = 55,
ymin = -Inf, ymax = Inf,  alpha = .01, fill = "blue") + # Chinese new year and holiday
geom_rect(xmin = 136, xmax = 213,
ymin = -Inf, ymax = Inf,  alpha = .01, fill = "orange")+ # chinese moratorium: May 16th - August 1
geom_label()
ggplot(active_vessel_2015, aes(x = day_of_year, y = active_vessels))+
geom_rect(xmin = 49, xmax = 55,
ymin = -Inf, ymax = Inf,  alpha = .01, fill = "blue") + # Chinese new year and holiday
geom_rect(xmin = 136, xmax = 213,
ymin = -Inf, ymax = Inf,  alpha = .01, fill = "orange", show.legend = TRUE)+ # chinese moratorium: May 16th - August 1
geom_point()+
geom_line()+
theme_minimal()
ggplot(active_vessel_2015, aes(x = day_of_year, y = active_vessels))+
geom_rect(xmin = 49, xmax = 55,
ymin = -Inf, ymax = Inf,  alpha = .01, fill = "blue") + # Chinese new year and holiday
geom_rect(xmin = 136, xmax = 213,
ymin = -Inf, ymax = Inf,  alpha = .01, fill = "orange")+ # chinese moratorium: May 16th - August 1
geom_point()+
geom_line()+
theme_minimal()
ggplot(active_vessel_2015, aes(x = day_of_year, y = active_vessels))+
geom_rect(xmin = 49, xmax = 55,
ymin = -Inf, ymax = Inf,  alpha = .01, fill = "blue") + # Chinese new year and holiday
geom_rect(xmin = 136, xmax = 213,
ymin = -Inf, ymax = Inf,  alpha = .01, fill = "orange")+ # chinese moratorium: May 16th - August 1
geom_point()+
geom_line()+
theme_minimal()
ggplot(active_vessel_2015, aes(x = day_of_year, y = active_vessels, fill = year))+
geom_rect(xmin = 49, xmax = 55,
ymin = -Inf, ymax = Inf,  alpha = .01, fill = "blue") + # Chinese new year and holiday
geom_rect(xmin = 136, xmax = 213,
ymin = -Inf, ymax = Inf,  alpha = .01, fill = "orange")+ # chinese moratorium: May 16th - August 1
geom_point()+
geom_line()+
theme_minimal()
ggplot(active_vessel_2015, aes(x = day_of_year, y = active_vessels, color = year))+
geom_rect(xmin = 49, xmax = 55,
ymin = -Inf, ymax = Inf,  alpha = .01, fill = "blue") + # Chinese new year and holiday
geom_rect(xmin = 136, xmax = 213,
ymin = -Inf, ymax = Inf,  alpha = .01, fill = "orange")+ # chinese moratorium: May 16th - August 1
geom_point()+
geom_line()+
theme_minimal()
ggplot(active_vessel_2015, aes(x = day_of_year, y = active_vessels, color = year))+
geom_rect(xmin = 49, xmax = 55,
ymin = -Inf, ymax = Inf,  alpha = .01, fill = "blue") + # Chinese new year and holiday
geom_rect(xmin = 136, xmax = 213,
ymin = -Inf, ymax = Inf,  alpha = .01, fill = "orange")+ # chinese moratorium: May 16th - August 1
geom_point()+
geom_line(group = year)+
theme_minimal()
ggplot(active_vessel_2015, aes(x = day_of_year, y = active_vessels, color = year))+
geom_rect(xmin = 49, xmax = 55,
ymin = -Inf, ymax = Inf,  alpha = .01, fill = "blue") + # Chinese new year and holiday
geom_rect(xmin = 136, xmax = 213,
ymin = -Inf, ymax = Inf,  alpha = .01, fill = "orange")+ # chinese moratorium: May 16th - August 1
geom_point()+
geom_line(aes(group = year))+
theme_minimal()
ggplot(active_vessel_2015, aes(x = day_of_year, y = active_vessels, color = year))+
geom_rect(xmin = 49, xmax = 55,
ymin = -Inf, ymax = Inf,  alpha = .01, fill = "blue") + # Chinese new year and holiday
geom_rect(xmin = 136, xmax = 213,
ymin = -Inf, ymax = Inf,  alpha = .01, fill = "orange")+ # chinese moratorium: May 16th - August 1
geom_point()+
geom_line(aes(group = year))+
theme_minimal()
ggplot(active_vessel_2015, aes(x = day_of_year, y = active_vessels, color = as.factor(year)))+
geom_rect(xmin = 49, xmax = 55,
ymin = -Inf, ymax = Inf,  alpha = .01, fill = "blue") + # Chinese new year and holiday
geom_rect(xmin = 136, xmax = 213,
ymin = -Inf, ymax = Inf,  alpha = .01, fill = "orange")+ # chinese moratorium: May 16th - August 1
geom_point()+
geom_line(aes(group = year))+
theme_minimal()
ggplot(active_vessel_2015, aes(x = day_of_year, y = active_vessels, group = as.factor(year)))+
geom_rect(xmin = 49, xmax = 55,
ymin = -Inf, ymax = Inf,  alpha = .01, fill = "blue") + # Chinese new year and holiday
geom_rect(xmin = 136, xmax = 213,
ymin = -Inf, ymax = Inf,  alpha = .01, fill = "orange")+ # chinese moratorium: May 16th - August 1
geom_point()+
geom_line(aes(group = year))+
theme_minimal()
ggplot(active_vessel_2015, aes(x = day_of_year, y = active_vessels, color = as.factor(year), group = as.factor(year)))+
geom_rect(xmin = 49, xmax = 55,
ymin = -Inf, ymax = Inf,  alpha = .01, fill = "blue") + # Chinese new year and holiday
geom_rect(xmin = 136, xmax = 213,
ymin = -Inf, ymax = Inf,  alpha = .01, fill = "orange")+ # chinese moratorium: May 16th - August 1
geom_point()+
geom_line(aes(group = year))+
theme_minimal()
ggplot(active_vessel_2015, aes(x = day_of_year, y = active_vessels, color = as.factor(year), group = as.factor(year)))+
geom_rect(xmin = 49, xmax = 55,
ymin = -Inf, ymax = Inf,  alpha = .01, fill = "blue") + # Chinese new year and holiday
geom_rect(xmin = 136, xmax = 213,
ymin = -Inf, ymax = Inf,  alpha = .01, fill = "orange")+ # chinese moratorium: May 16th - August 1
geom_point()+
geom_line()+
theme_minimal()
knitr::opts_chunk$set(false = TRUE, message = FALSE, error = FALSE, cache = TRUE, prompt = FALSE, echo = FALSE, fig.align = 'center', out.height='60%', out.width='60%')
options(scipen = 2, digits = 1)
library(maps)
library(maptools)
library(sp)
library(tidyverse)
library(ggplot2)
library(DBI)
library(bigrquery)
library(knitr)
library(plotly)
library(viridis)
library(maps)
library(mregions)
project <-  "ucsb-gfw"
knit_hooks$set(inline = function(x) {
prettyNum(round(x,2), big.mark=",")
})
